---
title: "삼성카드 쇼핑몰&복지 통합플랫폼"
description: "레거시 환경에서 공통 코드 리팩토링과 비즈니스 로직 모듈화를 수행하여 사용자 이탈률 15% 감소를 달성했습니다."
tags: ["jQuery", "Thymeleaf"]
year: 2022
period: "2022.10 — 2023.01"
links:
  live: "https://shopping.samsungcard.com/"
---

## 프로젝트 개요

삼성카드 쇼핑몰 및 복지 통합플랫폼 구축 프로젝트에서 프론트엔드 개발을 매니저로서 담당했습니다.

## 주요 성과

- **기존 레거시 공통 코드 활용 및 리팩토링**: 디바이스 체크, UI 컴포넌트 제어 등 재사용 가능한 로직 분리하여 개발 효율성 증대
- **비즈니스 로직 모듈화**: common.js에 묶여있던 코드를 기능별로 분리, 유지보수성 향상
- **성능 최적화**: 페이지 로딩 속도 개선으로 초기 오픈 대비 사용자 이탈률 15% 감소
- **레거시 환경 제약 하에서 효율적인 코드 구조** 설계 및 구현

## 기술적 도전

가장 큰 과제는 수천 줄에 달하는 단일 `common.js` 파일의 구조적 개선이었습니다. 이 파일에는 디바이스 감지, 모달 제어, 폼 유효성 검증, API 호출 래퍼, 유틸리티 함수, 페이지별 초기화 로직이 분리 없이 모두 포함되어 있었습니다. 함수 간 암시적 의존관계가 얽혀 있어, 하나의 함수를 수정하면 예상치 못한 사이드 이펙트가 발생하는 상황이 빈번했습니다.

모듈화 과정에서 기존 페이지들이 `common.js`의 전역 함수에 직접 의존하고 있었기 때문에, 함수를 단순히 파일 분리하면 기존 호출부가 모두 깨집니다. 기존 전역 인터페이스를 유지하면서 내부 구조만 개선하는 호환성 유지 전략이 필요했습니다.

성능 최적화에서는 모던 빌드 도구(webpack, Vite)를 사용할 수 없는 환경이 제약이었습니다. Thymeleaf 템플릿 엔진이 서버 측에서 HTML을 생성하고, JavaScript 파일은 `<script>` 태그로 직접 로드하는 구조였습니다. tree-shaking이나 code splitting 같은 최적화 기법을 적용할 수 없어, 수동으로 불필요한 코드를 제거하고 실행 순서를 최적화해야 했습니다.

또한 쇼핑몰과 복지몰이 별도로 운영되던 시스템을 하나의 플랫폼으로 통합하는 과정에서, 양쪽의 공통 UI 컴포넌트(상품 카드, 장바구니, 검색 필터 등)가 미묘하게 다른 구현을 갖고 있었습니다. 이를 하나의 통합 컴포넌트로 병합하면서 양쪽의 기능을 모두 충족하도록 설계하는 것이 까다로웠습니다.

## 기술적 의사결정 및 근거

### 모듈화 전략: Revealing Module Pattern vs Webpack/Rollup 번들러

**Revealing Module Pattern 채택.** Webpack/Rollup 번들러 도입은 기술적으로 가능했지만, Thymeleaf 기반 서버 사이드 렌더링 구조에서 백엔드 빌드(Maven/Gradle)와 프론트엔드 빌드를 통합하려면 CI/CD 파이프라인 수정, 개발 환경 재구성, 팀 전원의 워크플로우 변경이 수반됩니다. 프로젝트 일정과 범위를 고려하면 비용 대비 효과가 맞지 않았습니다. Revealing Module Pattern으로 기존 `<script>` 태그 로딩 방식을 유지하면서 `SC.device`, `SC.modal`, `SC.form`, `SC.api` 등의 네임스페이스로 코드를 논리적으로 분리하고, 기존 전역 함수명을 네임스페이스 메서드로 매핑하여 하위 호환성을 유지했습니다. ES6 모듈의 정적 분석과 tree-shaking을 포기하는 트레이드오프가 있었습니다.

### 레거시 리팩토링: 점진적 개선 접근

쇼핑몰 플랫폼은 결제, 포인트 적립, 배송 조회 등 비즈니스 핵심 프로세스가 jQuery 코드와 Thymeleaf 템플릿에 깊이 결합되어 있었습니다. 모던 스택(React/Next.js)으로 전면 재작성하면 이 모든 프로세스를 재구현하고 검증해야 하는데, 금융 서비스 특성상 결제 로직의 미세한 차이도 실질적인 금전적 문제로 이어질 수 있습니다.

"외부 인터페이스를 유지하면서 내부를 개선"하는 원칙으로 점진적 리팩토링을 진행했습니다. 1단계에서 `common.js`를 기능별 파일로 분리하되 전역 함수 시그니처 유지, 2단계에서 모듈 내부 중복 코드 제거 및 로직 정리, 3단계에서 불필요한 DOM 조작 최소화와 이벤트 위임 패턴 적용으로 성능 개선을 수행했습니다. jQuery의 구조적 한계는 남아 있지만, 프로젝트 범위 내에서 측정 가능한 이탈률 15% 감소를 달성했습니다.

### 성능 최적화: 빌드 도구 없는 환경에서의 수동 최적화

Webpack 도입은 모듈화 전략과 동일한 이유로 리스크가 기대 효과보다 컸기 때문에, 빌드 도구 없이 코드 레벨에서 가능한 최적화를 수행했습니다. 세 가지 축으로 진행했습니다. 첫째, 전역 검색으로 호출부가 없는 jQuery 플러그인과 유틸리티 함수를 식별하여 제거했습니다. 둘째, 페이지 초기화 시점에 모든 이벤트 핸들러를 일괄 등록하던 방식을 실제 인터랙션 영역에만 이벤트를 위임하도록 변경했습니다. 셋째, 스크롤/리사이즈 이벤트에 throttle/debounce를 적용하여 불필요한 연산을 줄였습니다. 자동화된 최적화를 수동으로 대체하는 것은 한계가 있으며, 장기적으로는 빌드 도구 도입이 필요한 상태였습니다.

## 담당 기간

2022.10 - 2023.01 | 프론트엔드 개발 매니저
