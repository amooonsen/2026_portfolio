---
title: "메리츠화재 홈페이지 유지운영"
description: "WCAG 2.1 가이드라인 적용으로 웹 접근성 인증 마크 획득, 이미지 최적화를 통한 랜딩 페이지 로딩 속도 20% 개선을 달성했습니다."
tags: ["AngularJS", "jQuery", "CSS", "HTML"]
year: 2022
links:
  live: "https://www.meritzfire.com"
---

## 프로젝트 개요

메리츠화재 홈페이지 유지운영 프로젝트에서 프론트엔드 개발 및 퍼블리싱을 매니저로서 담당했습니다. 웹 접근성 개선과 성능 최적화에 중점을 두었습니다.

## 주요 성과

- **WCAG 2.1 가이드라인 분석 및 적용 주도**, 웹와치 접근성 인증 마크 획득
- **이미지 최적화**(지연로딩과 압축 방식 변경)를 통해 상품 소개 랜딩 페이지 로딩 속도 20% 개선
- **상담예약 프로세스 오류 해결**: 중복 모듈 호출 이슈를 디버깅하여 서비스 안정성 확보
- **AngularJS 기반 보험 등록 로직 개선**, 유지보수성 향상

## 기술적 도전

WCAG 2.1 접근성 가이드라인을 레거시 시스템에 적용하는 것은 신규 개발과는 근본적으로 다른 어려움이 있었습니다. AngularJS 1.x와 jQuery가 혼재된 코드베이스에서 DOM 조작이 여러 경로로 발생하고 있었고, 이벤트 핸들러가 AngularJS의 digest cycle과 jQuery의 직접 DOM 조작 사이에서 충돌하는 경우가 있었습니다.

특히 보험 상품 가입 폼에서 포커스 트랩 구현이 가장 까다로웠습니다. 모달 다이얼로그가 AngularJS의 `$compile`로 동적 생성되는 구조였기 때문에, 모달이 열릴 때 포커스 가능한 요소 목록을 정적으로 파악할 수 없었습니다. 모달 내부 DOM이 완전히 렌더링된 후 포커스 가능 요소를 탐색하는 타이밍 제어가 필요했고, AngularJS의 `$timeout`을 활용하여 digest cycle 완료 후 포커스 트랩을 초기화하는 방식으로 해결했습니다.

이미지 최적화에서는 상품 소개 페이지에 고해상도 PNG 이미지가 20장 이상 배치되어 있었습니다. 단순히 이미지 포맷을 변경하는 것으로는 부족했고, 레거시 빌드 시스템(Grunt 기반)에서 지원 가능한 최적화 방식을 찾아야 했습니다. `loading="lazy"` 속성 적용, PNG에서 JPEG 전환(투명 배경이 불필요한 이미지), 그리고 CSS 스프라이트를 활용한 아이콘 이미지 통합으로 HTTP 요청 수를 줄이는 복합적인 접근을 취했습니다.

상담예약 프로세스의 중복 모듈 호출 버그는 AngularJS controller와 jQuery 플러그인이 동일 DOM 요소에 이벤트를 중복 바인딩하면서 발생했습니다. 이벤트 전파 경로를 추적하여 책임 영역을 명확히 분리하는 방식으로 수정했습니다.

## 기술적 의사결정 및 근거

### 레거시 시스템 접근성 개선: 점진적 개선 전략

프론트엔드를 React나 Vue.js로 전면 재구축하면서 접근성을 설계 단계부터 반영하는 것이 이상적이지만, 현실적으로 불가능한 선택이었습니다. 메리츠화재 홈페이지는 보험 상품 가입, 보상 청구, 상담 예약 등 수십 개의 업무 프로세스가 백엔드 API와 긴밀하게 연동되어 있고, 프론트엔드만 재구축하더라도 기존 API 연동, 폼 검증, 인증 흐름을 모두 재구현해야 하며 회귀 위험이 큽니다.

유지운영 프로젝트의 예산과 일정 내에서 WCAG 2.1 가이드라인을 항목별로 우선순위를 매기고, 사용자 영향도가 높은 순서대로 점진적으로 적용했습니다. 시맨틱 HTML 태그 교체, ARIA 속성 추가, 키보드 내비게이션 경로 확보, 포커스 관리 순으로 진행하여 기존 기능에 미치는 영향을 최소화했습니다. AngularJS 1.x의 구조적 한계로 동적 콘텐츠의 `aria-live` 업데이트 타이밍 문제 등이 있어 별도 접근성 유틸리티 함수가 필요한 부분도 있었습니다.

### 이미지 최적화: 복합 접근법 적용

단일 방법(WebP 전환 또는 지연 로딩)만으로는 목표한 20% 성능 개선 폭을 달성하기 어려웠습니다. WebP 전면 전환은 효과적이지만 IE11 지원 요구사항으로 `<picture>` 폴백이 필요했고, CMS에서 이미지를 관리하는 구조상 모든 이미지를 이중 생성하는 운영 부담이 컸습니다.

대신 현실적인 복합 접근을 적용했습니다. 투명 배경이 불필요한 PNG를 JPEG(품질 85%)로 전환하고, `loading="lazy"` 네이티브 속성을 적용했습니다. IE11에서는 `loading="lazy"`가 작동하지 않지만 사용자 비율이 전체 트래픽의 8% 미만이어서 폴리필은 적용하지 않았습니다. 추가로 반복 아이콘을 CSS 스프라이트로 통합하여 HTTP 요청 수를 줄였습니다. WebP 전면 전환 대비 용량 절감 폭은 작았지만, 운영 환경의 제약을 고려하면 가장 현실적인 선택이었습니다.

### 포커스 트랩 구현: focus-trap 라이브러리 vs 커스텀 구현

**커스텀 포커스 트랩 유틸리티 직접 구현 채택.** `focus-trap` 라이브러리는 일반적인 DOM 환경에서는 잘 작동하지만, AngularJS의 `$compile`로 동적 생성되는 모달에서는 초기화 타이밍 문제가 발생했습니다. 라이브러리의 `activate()` 시점에 digest cycle이 완료되기 전이라 DOM이 미완성 상태에서 스캔이 이루어지면 포커스 가능 요소가 누락됩니다.

이를 해결하기 위해 AngularJS의 `$timeout`과 `MutationObserver`(IE11 폴리필)를 조합한 커스텀 포커스 트랩 디렉티브를 구현했습니다. 모달 내부 DOM 변경 완료 후 포커스 가능 요소를 재계산하고, Tab/Shift+Tab 키 이벤트를 가로채어 순환 포커스를 구현했습니다. 구현 시간은 더 소요되었지만, AngularJS 생명주기와 정확히 맞물리는 안정적인 솔루션을 확보했습니다.

## 담당 기간

2022.01 - 2022.06 | 프론트엔드 개발 및 퍼블리싱 매니저
